

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Citation Graph &mdash; Citation Graph 1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Citation Graph
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">citation-graph</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Citation Graph</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Citation Graph</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="citation-graph">
<h1>Citation Graph<a class="headerlink" href="#citation-graph" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-have-people-already-done">
<h2>What have people already done?<a class="headerlink" href="#what-have-people-already-done" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://physics.stackexchange.com/questions/5569/is-there-a-nice-tool-to-plot-graphs-of-paper-citations">https://physics.stackexchange.com/questions/5569/is-there-a-nice-tool-to-plot-graphs-of-paper-citations</a></p></li>
<li><p><a class="reference external" href="https://longair.net/blog/2009/10/21/thesis-visualization/">https://longair.net/blog/2009/10/21/thesis-visualization/</a></p></li>
<li><p><a class="reference external" href="http://ongraphs.de/blog/2015/01/dynamic-citation-graph/">http://ongraphs.de/blog/2015/01/dynamic-citation-graph/</a> <strong>*</strong> Andre2015</p></li>
<li><p><a class="reference external" href="http://bl.ocks.org/jose187/4733747">http://bl.ocks.org/jose187/4733747</a> # a simple d3 network graph</p></li>
<li><p><a class="reference external" href="https://academia.stackexchange.com/questions/83582/in-google-scholar-is-it-possible-to-view-the-list-of-papers-cited-by-a-specific">https://academia.stackexchange.com/questions/83582/in-google-scholar-is-it-possible-to-view-the-list-of-papers-cited-by-a-specific</a></p></li>
</ul>
</div>
<div class="section" id="how-would-we-go-about-this">
<h2>How would we go about this?<a class="headerlink" href="#how-would-we-go-about-this" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>to visualise a graph, you need two lists: nodes and edges.</p></li>
<li><dl class="simple">
<dt>Andre2015’s code should do the job.</dt><dd><p>His node lists include a simple counting id, the year of publication, the ‘cyear’ (?year first cited?), and a ‘label’ which gives the title.
His edge (‘link’) lists include an edge id, the id of the citing work (‘target’), the id of the cited work (‘source’), and the year of citation (which is always the same as the year of publication of the citing work).</p>
</dd>
</dl>
</li>
<li><p>to generate these we need two, and ideally would have three tables (/dicts?):</p>
<ol class="arabic simple">
<li><p>references in a book: {“Book1” : [“Book2”,”Book3”,”Book4”], …}</p></li>
<li><p>citations of a book: {“Book2”: [“Book1”,…], …}</p></li>
<li><p>and also the data for the book: [CitationKey, Author, Date, Title, Publisher, Abstract, ISBN, doi, …]</p></li>
</ol>
</li>
<li><p>Citations can be found on Google Scholar. We’ll try to use Beautiful Soup and Requests or perhaps Selenium to scrape these…</p>
<ul>
<li><p>Start here: <a class="reference external" href="https://scholar.google.com/scholar?hl=en&amp;as_sdt=0%2C5&amp;q=The+predictive+postcode%3A+the+geodemographic+classification+of+British+society&amp;btnG=">https://scholar.google.com/scholar?hl=en&amp;as_sdt=0%2C5&amp;q=The+predictive+postcode%3A+the+geodemographic+classification+of+British+society&amp;btnG=</a></p></li>
</ul>
</li>
<li><p>References can be found in the text itself. If we can get copies of articles or bibliography chapters as PDFs, then we might be able to scrape these…</p>
<ul>
<li><p><a class="reference external" href="https://github.com/anderser/pydocsplit">https://github.com/anderser/pydocsplit</a></p></li>
</ul>
</li>
<li><p>Book data can be obtained from Zotero, if we have what Zotero calls an ‘identifier’: an ISBN, a doi, a PMID, or an arXiv id.</p>
<ul>
<li><p>Can this be automated?</p>
<ul>
<li><p><a class="reference external" href="https://forums.zotero.org/discussion/70995/perform-add-item-by-identifier-action-through-api">https://forums.zotero.org/discussion/70995/perform-add-item-by-identifier-action-through-api</a></p></li>
<li><p>Most easily through Wikipedia’s Zotero API: <a class="reference external" href="https://en.wikipedia.org/api/rest_v1/#/Citation/getCitation">https://en.wikipedia.org/api/rest_v1/#/Citation/getCitation</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once you have all the data (saved in SQLite tables?), then you need to produce the json lists.</p>
<ul>
<li><p>to produce the list of nodes, just run through table 3 which lists all the books.</p></li>
<li><p>to produce the list of edges, run through tables 1 and 2, generating all the edges.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="mvp-visualized-graph-of-predictive-postcode">
<h2>MVP: Visualized graph of <em>Predictive Postcode</em>,<a class="headerlink" href="#mvp-visualized-graph-of-predictive-postcode" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>with full set of citations scraped from Google Scholar,</p></li>
<li><p>and full set of references gleaned from PDF of references chapter.</p></li>
<li><p>Book data gained from Zotero and interpreted by pybtex (<a class="reference external" href="https://docs.pybtex.org/api/parsing.html">https://docs.pybtex.org/api/parsing.html</a>)</p></li>
<li><p>Data stored in <span class="raw-html-m2r"><del>SQLite database</del></span> .bib files so that it’s all human readable.</p></li>
</ul>
<p>Or actually,</p>
<ul class="simple">
<li><dl class="simple">
<dt>instead of building a webscraper, let’s for the moment just pull all the citations into Zotero using the Chrome toolbar plugin,</dt><dd><p>and use Zotero + BetterBibTex to generate a .bib citations file.</p>
</dd>
</dl>
</li>
<li><p>and then let’s just manually add some references to Zotero, and similarly generate a reference .bib file.</p></li>
<li><p>then let’s use pybtex to pull in those .bib files</p></li>
<li><dl class="simple">
<dt>and then let’s see if we can build an interface between a static front-end web-page using a JavaScript Fetch call</dt><dd><p>to pull in the relevant bibliographic data from a Flask API. <a class="reference external" href="https://pythonise.com/series/learning-flask/flask-and-fetch-api">https://pythonise.com/series/learning-flask/flask-and-fetch-api</a></p>
</dd>
</dl>
</li>
<li><p>we might be able to automate the documentation for the API: <a class="reference external" href="https://flask-apispec.readthedocs.io/en/latest/">https://flask-apispec.readthedocs.io/en/latest/</a></p></li>
</ul>
<p>Okay, for tomorrow:</p>
<ul class="simple">
<li><p>add JS functionality:</p>
<ul>
<li><p>when you call the API, you should <em>add</em> data to the front-end, not lose what’s already there.</p></li>
<li><p>add some of the A-Z extra functionality:</p>
<ul>
<li><p><span class="raw-html-m2r"><del>arrows</del></span></p></li>
<li><p>no overlap</p></li>
<li><p><span class="raw-html-m2r"><del>(bigger circles)</del></span></p></li>
<li><p>highlighting</p></li>
<li><p>pinning down nodes</p></li>
<li><p>search</p></li>
</ul>
</li>
</ul>
</li>
<li><p>scrape PDFs with Python (or even Ruby!)</p></li>
<li><p>use pyzotero and scrape Google Scholar</p></li>
<li><p>integrate literature.Text class into Flask API.</p></li>
</ul>
<p>Another day, what have we done?</p>
<ul class="simple">
<li><p>we can easily make it so that you can drag a circle, and the data emerges in a nearby text box.</p></li>
<li><p>we have managed to scrape pdfs, and we are beginning to learn regular expressions to identify at least the first line of the references.</p></li>
<li><p>we thought that we could use this to scrape lots of useful information from google scholar and microsoft academic…</p></li>
<li><p>but they both make it very difficult to automate this…</p></li>
<li><p>though <a class="reference external" href="https://mystudentvoices.com/scraping-google-scholar-to-write-your-phd-literature-chapter-2ea35f8f4fa1">some</a> <a class="reference external" href="http://thebiobucket.blogspot.com/2011/11/visually-examine-google-scholar-search.html">people</a> seem to have done it…</p></li>
<li><p>might be able to use selenium to make the mouse click on the link…</p></li>
</ul>
</div>
<div class="section" id="software-that-will-be-used">
<h2>Software (that will be) used:<a class="headerlink" href="#software-that-will-be-used" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Zotero</p></li>
<li><p>Better Bibtex for Zotero (<a class="reference external" href="https://retorque.re/zotero-better-bibtex/citing/">https://retorque.re/zotero-better-bibtex/citing/</a>)</p></li>
<li><p>Python</p></li>
<li><p>Pybtex ( + documentation from <a class="reference external" href="https://www1.unipa.it/paolo.monella/pybtex/index.html">https://www1.unipa.it/paolo.monella/pybtex/index.html</a>)</p></li>
<li><p>Pylint</p></li>
<li><p>Pipenv</p></li>
<li><p>Flask</p></li>
<li><p>Sphinx (&amp; ReadTheDocs) – using Napoleon Extension &amp; m2r</p></li>
<li><p>Git (&amp; GitHub)</p></li>
</ul>
</div>
<div class="section" id="also">
<h2>Also…<a class="headerlink" href="#also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://opencitations.wordpress.com/2018/02/25/citations-as-first-class-data-entities-the-opencitations-data-model/">Open Citations</a> would be a great thing…</p></li>
<li><p><a class="reference external" href="http://opencitations.net/index">http://opencitations.net/index</a></p></li>
<li><p><a class="reference external" href="http://opencitations.net/index/coci/api/v1">http://opencitations.net/index/coci/api/v1</a></p></li>
<li><p><a class="reference external" href="https://figshare.com/articles/Open_Citation_Identifier_Definition/7127816">https://figshare.com/articles/Open_Citation_Identifier_Definition/7127816</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Peter Prescott

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>